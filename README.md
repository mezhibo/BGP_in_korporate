**Задание 1**

Существует установленная BGP-сессия, у которой uptime 20 часов. Какие сообщения гарантированно не передавались между соседями последние 2 часа?


**Решение 1**

Исходя из того, что BGP-сессия не обрывалась 20 часов, за последние 2 часа гарантированно не было сообщений OPEN (передаются только на этапе формирования отношений) и NOTIFICATION, так как это сообщение приводит к закрытию BGP-соединения.


**Задание 2. Лабораторная работа "Настройка конфигурации BGP"**

1. В Cisco Packet Tracer соберите сеть, состоящую из двух маршрутизаторов R1 и R2, находящиеся в разных AS.

2. Настройте между ними BGP.

3. К маршрутизатору R1 добавьте еще маршрутизатор R5, а к R2 - маршрутизатор R4.

4. Соедините R4 и R5 между собой и настройте BGP.

5. Все маршрутизаторы должны находиться в уникальных AS.




**Решение 2**


В процессе выполнения собрана сеть, настроен BGP протокол, установлено соседство. На роутерах анонсированы локальные сети, для наглядного отображения маршрутов.


![alt text](https://github.com/mezhibo/BGP_in_korporate/blob/b2f68db12d5ef85050ad7da9d944f71a54ba1dd6/IMG/1.jpg)


[PKT](https://github.com/mezhibo/BGP_in_korporate/blob/b2f68db12d5ef85050ad7da9d944f71a54ba1dd6/IMG/settingsbgp.pkt)



**Задание 3**

На основе предыдущей лабораторной работы настройте маршрутизацию таким образом, чтобы трафик от R2 проходил через маршрутизаторы: R4->R5->R1. В качестве ответа приложите примеры конфигураций устройств.



**Решение 3**

При дефолтных настройках трафик от R2 к сети 192.168.1.0/24, анонсированной на R1, проходит по кратчайшему пути:


![alt text](https://github.com/mezhibo/BGP_in_korporate/blob/f1915f047deb12b7082f671fac016b26239bf0b1/IMG/2.jpg)


Управлять выбором маршрутов в протоколе BGP возможно с помощью использования AS-Path ACL, Prefix-list, Weight, Local Preference, MED.
AS-Path ACL и Prefix-list позволяют фильтровать анонсируемые или принимаемые маршруты, другие устанавливают приоритеты. С помощью AS-Path ACL на R2 можно запретить принимать анонс маршрута от AS 1. 
